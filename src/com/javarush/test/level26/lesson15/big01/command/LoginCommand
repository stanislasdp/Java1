package command;

import logic.ConsoleHelper;
import exception.InterruptOperationException;

public class LoginCommand implements Command {

	@Override
	public void execute() throws InterruptOperationException 
	{
		final String harcodednumber = "123456789012";
		final String harcodedpin = "1234";
		
		while(true)
		{
			String askcardnumber= ConsoleHelper.readString();
			
			if (!askcardnumber.matches("\\d+") || askcardnumber.length()!=12 )
			{
				ConsoleHelper.writeMessage("Incorrect card number");
				continue;
			}
			
			String askpin = ConsoleHelper.readString();
			
			if (!askpin.matches("\\d+") || askpin.length()!=4 )
			{
				ConsoleHelper.writeMessage("Incorrect card number");
				continue;
			}
			
			if (!askcardnumber.equals(harcodednumber) || !askpin.equals(harcodedpin))
			{
				ConsoleHelper.writeMessage("Entered data don't correspond valid values");
			}
			else
			{
				break;
			}
		}
		System.out.println("Verification is successful");
	}

}
